<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Robot_development/quick_demo/demo_cv" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">5.2.4 Image Processing Acceleration | RDK DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.d-robotics.cc/rdk_doc/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.d-robotics.cc/rdk_doc/en/Robot_development/quick_demo/demo_cv"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="5.2.4 Image Processing Acceleration | RDK DOC"><meta data-rh="true" name="description" content="Gaussian Filtering"><meta data-rh="true" property="og:description" content="Gaussian Filtering"><link data-rh="true" rel="icon" href="/rdk_doc/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.d-robotics.cc/rdk_doc/en/Robot_development/quick_demo/demo_cv"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Robot_development/quick_demo/demo_cv" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/en/Robot_development/quick_demo/demo_cv" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.d-robotics.cc/rdk_doc/Robot_development/quick_demo/demo_cv" hreflang="x-default"><script src="https://hm.baidu.com/hm.js?24dd63cad43b63889ea6bede5fd1ab9e" async></script><link rel="stylesheet" href="/rdk_doc/en/assets/css/styles.c60d9ce6.css">
<script src="/rdk_doc/en/assets/js/runtime~main.d8b203dc.js" defer="defer"></script>
<script src="/rdk_doc/en/assets/js/main.52bf8ea1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rdk_doc/en/"><div class="navbar__logo"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent__dKv themedComponent--light_rzkv"><img src="/rdk_doc/en/img/logo.png" alt="My Site Logo" class="themedComponent__dKv themedComponent--dark_mMAk"></div><b class="navbar__title text--truncate">D-Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rdk_doc/en/RDK">RDK</a><a href="https://developer.d-robotics.cc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>EN</a><ul class="dropdown__menu"><li><a href="/rdk_doc/Robot_development/quick_demo/demo_cv" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">CN</a></li><li><a href="/rdk_doc/en/Robot_development/quick_demo/demo_cv" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">EN</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rdk_doc/en/RDK">D-Robotics  RDK Suite</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Quick_start">1.Quick Start</a><button aria-label="Expand sidebar category &#x27;1.Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/System_configuration">2. System Configuration</a><button aria-label="Expand sidebar category &#x27;2. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Application">3 Basic Application Development</a><button aria-label="Expand sidebar category &#x27;3 Basic Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Basic_Development">4. Algorithm Application Development</a><button aria-label="Expand sidebar category &#x27;4. Algorithm Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rdk_doc/en/Robot_development">5. Robotics Application Development</a><button aria-label="Collapse sidebar category &#x27;5. Robotics Application Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/tros">TogetheROS.Bot</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/rdk_doc/en/Robot_development/quick_start/preparation">5.1. System Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/demo_sensor">5.2. Feature Experience</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/demo_sensor">5.2.1 Image Capture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/demo_render">5.2.2 Display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/hobot_codec">5.2.3 Image Codec</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv">5.2.4 Image Processing Acceleration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/demo_communication">5.2.5 Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/demo_tool">5.2.7 Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/ai_predict">5.2.6 Model Inference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/hobot_tts">5.2.8 Text to Speech</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rdk_doc/en/Robot_development/quick_demo/hobot_llm">5.2.9 Large Language Model</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/rdk_doc/en/Robot_development/boxs/detection/fcos">5.3. Boxs Algorithm Repository</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/rdk_doc/en/Robot_development/apps/slam">5.4 Apps Application Examples</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/rdk_doc/en/Robot_development/tros_dev/zero_copy">5.5 Feature Development</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Application_case">6. Application Development Guide</a><button aria-label="Expand sidebar category &#x27;6. Application Development Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Advanced_development">7. Advanced Development</a><button aria-label="Expand sidebar category &#x27;7. Advanced Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/FAQ">8. FAQs</a><button aria-label="Expand sidebar category &#x27;8. FAQs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rdk_doc/en/Appendix">9. Appendix</a><button aria-label="Expand sidebar category &#x27;9. Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rdk_doc/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rdk_doc/en/Robot_development"><span itemprop="name">5. Robotics Application Development</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">5.2. Feature Experience</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">5.2.4 Image Processing Acceleration</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>5.2.4 Image Processing Acceleration</h1>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gaussian-filtering">Gaussian Filtering<a class="hash-link" aria-label="Direct link to Gaussian Filtering" title="Direct link to Gaussian Filtering" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#gaussian-filtering">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction">​</a></h3>
<p>Realize the function of Gaussian filtering. The acceleration types are BPU acceleration and NEON acceleration. BPU acceleration currently only supports the int16 format, and NEON acceleration currently only supports the int16 and uint16 formats.</p>
<p>Code repository:  (<a href="https://github.com/D-Robotics/hobot_cv" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics/hobot_cv</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-platforms">Supported Platforms<a class="hash-link" aria-label="Direct link to Supported Platforms" title="Direct link to Supported Platforms" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms">​</a></h3>
<table><thead><tr><th>Platform</th><th>System</th><th>Function</th></tr></thead><tbody><tr><td>RDK X3, RDK X3 Module</td><td>Ubuntu 20.04 (Foxy), Ubuntu 22.04 (Humble)</td><td>Read ToF images and perform Gaussian filtering</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparation">Preparation<a class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk">​</a></h4>
<ol>
<li>
<p>RDK has burned D-Robotics&#x27;s provided  Ubuntu 20.04/22.04 system image.</p>
</li>
<li>
<p>RDK has successfully installed TogetheROS.Bot.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#usage">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bpu-acceleration">BPU Acceleration<a class="hash-link" aria-label="Direct link to BPU Acceleration" title="Direct link to BPU Acceleration" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#bpu-acceleration">​</a></h4>
<p>The current version supports the following parameter ranges:</p>
<ul>
<li>
<p>Filtering type: Gaussian filtering</p>
</li>
<li>
<p>Supported data types: int16</p>
</li>
<li>
<p>Supported resolution: 320x240.</p>
</li>
<li>
<p>Filtering kernel: 3x3 Gaussian</p>
</li>
<li>
<p>sigmax: 0</p>
</li>
<li>
<p>sigmay: 0</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="neon-acceleration">NEON Acceleration<a class="hash-link" aria-label="Direct link to NEON Acceleration" title="Direct link to NEON Acceleration" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#neon-acceleration">​</a></h4>
<p>The current version supports the following parameter ranges:</p>
<ul>
<li>
<p>Filtering type: Gaussian filtering- Supported data types: int16, uint16</p>
</li>
<li>
<p>Filter kernel: Gaussian 3x3, 5x5</p>
</li>
<li>
<p>sigmax: 0</p>
</li>
<li>
<p>sigmay: 0</p>
</li>
</ul>
<p>The package provides a simple test program that takes a local ToF image and uses the interface in hobot_cv to implement Gaussian filtering. For more detailed interface information, please refer to the README.md file in the hobot_cv package.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-1">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-1">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Foxy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Humble</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy the models and configuration files needed for running the examples from the installation path of tros.b.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/hobot_cv/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the BPU acceleration test program package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_gaussian_blur.launch.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the NEON acceleration test program package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_neon_blur.launch.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-analysis">Result Analysis<a class="hash-link" aria-label="Direct link to Result Analysis" title="Direct link to Result Analysis" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bpu">BPU<a class="hash-link" aria-label="Direct link to BPU" title="Direct link to BPU" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#bpu">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">===================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image name :images/frame1_4.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">infe cost time:1314</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">guss_time cost time:2685</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hobotcv save rate:0.510615</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">analyse_result start </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------GaussianBlur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out_filter type:2,cols:320,rows:240,channel:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cls_filter type:2,cols:320,rows:240,channel:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out_filter minvalue:96,max:2363</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out_filter min,x:319,y:115</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out_filter max,x:147,y:239</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cls_filter minvalue:96,max:2364</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cls_filter min,x:319,y:115</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cls_filter max,x:147,y:239</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```diff diff diff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mat_diff minvalue:0,max:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mat_diff min,x:2,y:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mat_diff max,x:110,y:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error sum:8.46524e+06,max:2,mean_error:0.439232</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">analyse_result,time_used_ms_end:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">analyse_result end </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>infe cost time:1314 // Indicates the time cost of Gaussian filtering accelerated by hobotcv, 1314 microseconds.</p>
<p>guss_time cost time:2685 // Indicates the time cost of Gaussian filtering by OpenCV, 2685 microseconds.</p>
<p>hobotcv save rate = (guss_time cost time - infe cost time) / guss_time cost time = 0.510615</p>
<p>According to the above comparison results, the performance is improved by 50% after being accelerated by hobot_cv.</p>
<p>error sum:8.46524e+06,max:2,mean_error:0.439232 // The total error for a single image is: 8.46524e+06, the maximum error for a single pixel is: 2, and the average error is: 0.439232</p>
<p>Average error = sum / (width * height) = 8.46524e+06 / (320 * 240)</p>
<p>The performance comparison results between hobot_cv Gaussian filtering accelerated by BPU and OpenCV Gaussian filtering are as follows:</p>
<table><thead><tr><th>Interface type</th><th>Kernel</th><th>Time cost (ms)</th><th>Single core CPU occupation (%)</th></tr></thead><tbody><tr><td>Hobotcv gaussian</td><td>Size(3,3)</td><td>1.10435</td><td>15.9</td></tr><tr><td>Opencv gaussian</td><td>Size(3,3)</td><td>2.41861</td><td>49.7</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="neon">NEON<a class="hash-link" aria-label="Direct link to NEON" title="Direct link to NEON" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#neon">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] ===================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] image name: config/tof_images/frame1_4.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] hobotcv mean cost time: 674</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] opencv mean cost time: 1025</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] hobotcv mean save rate: 0.342439</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] analyse_result start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] ---------Mean_Blur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] error sum: 8.43744e+06, max: 1, mean_error: 0.430833</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] hobotcv gaussian cost time: 603</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] opencv gaussian cost time: 2545[neon_example-1] hobotcv gaussian save rate:0.763065</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] analyse_result start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] ---------Gaussian_Blur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] error sum:9.13206e+06, max:1, mean_error:0.466302</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] -------------------------</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>hobotcv gaussian cost time:603 //hobotcv gaussian filtering with neon acceleration took 603 microseconds.
opencv gaussian cost time:2545 //opencv gaussian filtering took 2545 microseconds.
hobotcv gaussian save rate = (opencv cost time - hobotcv cost time) / opencv cost time = 0.763065
From the above comparison, after the acceleration of hobotcv, the performance of Gaussian filtering has improved by 76%.</p>
<p>The comparison results between hobot_cv Gaussian filtering with NEON acceleration and opencv Gaussian filtering are as follows:</p>
<table><thead><tr><th>Interface Type</th><th>Kernel</th><th>Time(ms)</th><th>Single Core CPU Usage (%)</th></tr></thead><tbody><tr><td>Hobotcv Gaussian</td><td>Size(3,3)</td><td>0.430284</td><td>27.1</td></tr><tr><td>Opencv Gaussian</td><td>Size(3,3)</td><td>2.42225</td><td>47</td></tr><tr><td>Hobotcv Gaussian</td><td>Size(5,5)</td><td>0.854871</td><td>39.1</td></tr><tr><td>Opencv Gaussian</td><td>Size(5,5)</td><td>3.15647</td><td>99.8</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mean-filtering">Mean Filtering<a class="hash-link" aria-label="Direct link to Mean Filtering" title="Direct link to Mean Filtering" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#mean-filtering">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-1">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-1">​</a></h3>
<p>Implementation of Mean Filtering using NEON acceleration, currently only supporting int16 and uint16 formats.</p>
<p>Code repository:  (<a href="https://github.com/D-Robotics/hobot_cv" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics/hobot_cv</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-platforms-1">Supported Platforms<a class="hash-link" aria-label="Direct link to Supported Platforms" title="Direct link to Supported Platforms" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms-1">​</a></h3>
<table><thead><tr><th>Platform</th><th>System</th><th>Function</th></tr></thead><tbody><tr><td>RDK X3, RDK X3 Module</td><td>Ubuntu 20.04 (Foxy), Ubuntu 22.04 (Humble)</td><td>Read ToF images, perform Mean Filtering</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-1">Preparation<a class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-1">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-2">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-2">​</a></h4>
<ol>
<li>
<p>RDK has flashed the  Ubuntu 20.04/22.04 system image provided by D-Robotics.</p>
</li>
<li>
<p>RDK has successfully installed TogetheROS.Bot.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-guide">Usage Guide<a class="hash-link" aria-label="Direct link to Usage Guide" title="Direct link to Usage Guide" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#usage-guide">​</a></h3>
<p>The mean filtering supports the following parameter range:</p>
<ul>
<li>
<p>Data Type: int16, uint16</p>
</li>
<li>
<p>Kernel: 3x3, 5x5</p>
</li>
</ul>
<p>The package provides a simple test program. The input is a offline ToF image, and the hobot_cv interface is called to perform mean filtering. For detailed interface information, please refer to README.md in the hobot_cv package for further understanding.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-3">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-3">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Foxy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Humble</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy the required configuration files from the installation path of TogetheROS.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/hobot_cv/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the test program pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_neon_blur.launch.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-analysis-1">Result Analysis<a class="hash-link" aria-label="Direct link to Result Analysis" title="Direct link to Result Analysis" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-1">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] ===================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] image name :config/tof_images/frame1_4.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] hobotcv mean cost time:674</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] opencv mean cost time:1025</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] hobotcv mean save rate:0.342439</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] analyse_result start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] ---------Mean_Blur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] error sum:8.43744e+06,max:1,mean_error:0.430833</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neon_example-1] -------------------------</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Mean filtering cost time:674 // The hobot_cv mean filtering with neon acceleration interface took 674 microseconds.
opencv mean cost time:1025 // Indicates the mean filtering time of opencv is 1025 microseconds.
hobotcv mean save rate = (opencv cost time - hobotcv cost time) / opencv cost time = 0.342439
From the above comparison, the mean filtering performance is improved by 34% after acceleration by hobot_cv.</p>
<p>error sum:8.43744e+06,max:1,mean_error:0.430833 // The total error of mean filtering for a single image is: 8.43744e+06, the maximum error of a single pixel is: 1, and the average error is: 0.430833
Mean filtering average error = sum / (width x height) = 8.43744e+06 / (320 x 240)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-of-hobot_cv-and-opencv-processing-performance">Comparison of hobot_cv and opencv processing performance<a class="hash-link" aria-label="Direct link to Comparison of hobot_cv and opencv processing performance" title="Direct link to Comparison of hobot_cv and opencv processing performance" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#comparison-of-hobot_cv-and-opencv-processing-performance">​</a></h4>
<table><thead><tr><th>Interface Type</th><th>Kernel</th><th>Time Consumption (ms)</th><th>CPU Usage (%)</th></tr></thead><tbody><tr><td>Hobotcv mean</td><td>Size(3,3)</td><td>0.466397</td><td>31.8</td></tr><tr><td>Opencv mean</td><td>Size(3,3)</td><td>0.676677</td><td>40.2</td></tr><tr><td>Hobotcv mean</td><td>Size(5,5)</td><td>0.737171</td><td>47.7</td></tr><tr><td>Opencv mean</td><td>Size(5,5)</td><td>0.798177</td><td>52.9</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="crop">crop<a class="hash-link" aria-label="Direct link to crop" title="Direct link to crop" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#crop">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-2">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-2">​</a></h3>
<p>Implement the image cropping function, currently only supports NV12 format.</p>
<p>Code repository:  (<a href="https://github.com/D-Robotics/hobot_cv" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics/hobot_cv</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="platform-support">Platform Support<a class="hash-link" aria-label="Direct link to Platform Support" title="Direct link to Platform Support" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#platform-support">​</a></h3>
<table><thead><tr><th>Platform</th><th>System</th><th>Function</th></tr></thead><tbody><tr><td>RDK X3, RDK X3 Module</td><td>Ubuntu 20.04 (Foxy), Ubuntu 22.04 (Humble)</td><td>Read an image and crop it</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-2">Preparation<a class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-2">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-platform">RDK Platform<a class="hash-link" aria-label="Direct link to RDK Platform" title="Direct link to RDK Platform" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-platform">​</a></h4>
<ol>
<li>
<p>RDK has already burned D-Robotics&#x27;s provided  Ubuntu 20.04/22.04 system image.</p>
</li>
<li>
<p>RDK has successfully installed TogetheROS.Bot.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instruction">Instruction<a class="hash-link" aria-label="Direct link to Instruction" title="Direct link to Instruction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#instruction">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-4">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-4">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Foxy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Humble</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy the required models and configuration files from the installation path of tros.b.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/hobot_cv/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the launch file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_crop.launch.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-analysis-2">Result Analysis<a class="hash-link" aria-label="Direct link to Result Analysis" title="Direct link to Result Analysis" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-2">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [launch]: Default logging verbosity is set to INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [crop_example-1]: process started with pid [3064]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[crop_example-1] [INFO] [1655951627.255477663] [example]: crop image to 960x540 pixels, time cost: 1 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[crop_example-1] [INFO] [1655951627.336889080] [example]: crop image to 960x540 pixels, time cost: 1 ms[INFO] [crop_example-1]: process has finished cleanly [pid 3064]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>According to the log, the test program has finished processing the local 1920x1080 resolution image crop, and the time consumed is as follows:</p>
<table><thead><tr><th>Image Processing</th><th>Runtime</th></tr></thead><tbody><tr><td>Crop 1920x1080 to 960x540</td><td>1ms</td></tr></tbody></table>
<p>The original image is 1920x1080, and the top left corner of the image is cropped to a 960x540 region. The resulting image is shown below:</p>
<p><img decoding="async" loading="lazy" src="/rdk_doc/en/assets/images/ori-crop-f8a91655ddf7341ec281209167e612c8.png" width="2021" height="1702" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resize">Resize<a class="hash-link" aria-label="Direct link to Resize" title="Direct link to Resize" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#resize">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-3">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-3">​</a></h3>
<p>Implement image scaling function, currently only supports NV12 format.</p>
<p>Code repository:  (<a href="https://github.com/D-Robotics/hobot_cv" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics/hobot_cv</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="platform-support-1">Platform Support<a class="hash-link" aria-label="Direct link to Platform Support" title="Direct link to Platform Support" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#platform-support-1">​</a></h3>
<table><thead><tr><th>Platform</th><th>System</th><th>Function</th></tr></thead><tbody><tr><td>RDK X3, RDK X3 Module, RDK X5</td><td>Ubuntu 20.04 (Foxy), Ubuntu 22.04 (Humble)</td><td>Read image and resize</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-3">Preparation<a class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-3">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-5">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-5">​</a></h4>
<ol>
<li>
<p>The RDK has been burned with the  Ubuntu 20.04/22.04 system image provided by D-Robotics.</p>
</li>
<li>
<p>TogetheROS.Bot has been successfully installed on the RDK.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage<a class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#usage-1">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-6">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-6">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Foxy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Humble</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure the tros.b environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy the required models and configuration files from the TogetheROS installation path.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/hobot_cv/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the file </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_resize.launch.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-analysis-3">Result Analysis<a class="hash-link" aria-label="Direct link to Result Analysis" title="Direct link to Result Analysis" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-3">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-7">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-7">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [launch]: Default logging verbosity is set to INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [resize_example-1]: process started with pid [3083]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[resize_example-1] [INFO] [1655951649.930987924] [example]:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[resize_example-1] source image config/test.jpg is 1920x1080 pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[resize_example-1] [INFO] [1655951649.931155799] [example]: resize image to 960x540 pixels, time cost: 297 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[resize_example-1] [INFO] [1655951650.039223757] [example]: resize image to 960x540 pixels, time cost: 15 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [resize_example-1]: process has finished cleanly [pid 3083]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>According to the log, the test program has completed the resize processing of a local 1920x1080 resolution image. The interface is called twice, and the time costs for each run are as follows.</p>
<table><thead><tr><th>Image Processing</th><th>Time Cost for First Run</th><th>Time Cost for Second Run</th></tr></thead><tbody><tr><td>1920x1080 resized to 960x540</td><td>297 ms</td><td>15 ms</td></tr></tbody></table>
<p>The first run requires configuration of the hardware, so it takes more time. If there are no changes to the hardware configuration properties and the hardware directly processes the image, the time cost will be significantly reduced.</p>
<p>The original image (1920x1080) and the resized image (960x540) are shown below:</p>
<p><img decoding="async" loading="lazy" src="/rdk_doc/en/assets/images/ori-resize-a808cabe214f7f50a991a6a0670a25dd.png" width="2021" height="1701" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-performance-comparison">RDK performance comparison<a class="hash-link" aria-label="Direct link to RDK performance comparison" title="Direct link to RDK performance comparison" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-performance-comparison">​</a></h4>
<p>Use the <code>top</code> command to check CPU usage, which represents the CPU percentage used by the test process.
The time cost is in milliseconds, and the average value is taken after looping 1000 times.
CPU frequency is locked during testing:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo bash -c &#x27;echo performance &gt; /sys/devices/system/cpu/cpufreq/policy0/scaling_governor&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>src wxh</th><th>dst wxh</th><th>Configuration of<br> Hardware Cost</th><th>Configuration of <br>Hardware CPU Usage</th><th>BPU Time Cost</th><th>BPU Interface<br>CPU Usage</th><th>OpenCV Time Cost</th><th>OpenCV Processing<br>CPU Usage</th></tr></thead><tbody><tr><td>512x512</td><td>128x128</td><td>1.53789</td><td>25.9</td><td>1.11054</td><td>89</td><td>1.71119</td><td>100.3</td></tr><tr><td>640x640</td><td>320x320</td><td>2.48536</td><td>28.5</td><td>1.82232</td><td>88</td><td>1.82384</td><td>338.9</td></tr><tr><td>896x896</td><td>384x384</td><td>4.54422</td><td>24.6</td><td>2.81954</td><td>79.7</td><td>7.84396</td><td>273.1</td></tr><tr><td>1024x1024</td><td>512x512</td><td>6.01103</td><td>25.2</td><td>3.89325</td><td>81.7</td><td>2.55761</td><td>381.7</td></tr><tr><td>1920x1088</td><td>512x512</td><td>11.0406</td><td>20.6</td><td>5.8513</td><td>71.1</td><td>8.19324</td><td>380.1</td></tr><tr><td>1920x1080</td><td>960x544</td><td>11.1562</td><td>22.3</td><td>7.09085</td><td>77.7</td><td>15.2978</td><td>382.4</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rotate">rotate<a class="hash-link" aria-label="Direct link to rotate" title="Direct link to rotate" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rotate">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-4">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-4">​</a></h3>
<p>The rotate function implements image rotation, currently only supporting images in NV12 format. The supported rotation angles are 90, 180, and 270.</p>
<p>Code repository:  (<a href="https://github.com/D-Robotics/hobot_cv" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics/hobot_cv</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-platforms-2">Supported Platforms<a class="hash-link" aria-label="Direct link to Supported Platforms" title="Direct link to Supported Platforms" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms-2">​</a></h3>
<table><thead><tr><th>Platform</th><th>System</th><th>Function</th></tr></thead><tbody><tr><td>RDK X3, RDK X3 Module</td><td>Ubuntu 20.04 (Foxy), Ubuntu 22.04 (Humble)</td><td>Read and rotate images</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-4">Preparation<a class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-4">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-platform-1">RDK Platform<a class="hash-link" aria-label="Direct link to RDK Platform" title="Direct link to RDK Platform" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-platform-1">​</a></h4>
<ol>
<li>
<p>RDK has been flashed with the  Ubuntu 20.04/22.04 system image provided by the D-Robotics team.</p>
</li>
<li>
<p>The TogetheROS.Bot has been successfully installed on the RDK.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-guide">User Guide<a class="hash-link" aria-label="Direct link to User Guide" title="Direct link to User Guide" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#user-guide">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-8">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-8">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Foxy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Humble</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy the required models and configuration files from the installation path of tros.b.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/hobot_cv/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the launch file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_rotate.launch.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-analysis-4">Result Analysis<a class="hash-link" aria-label="Direct link to Result Analysis" title="Direct link to Result Analysis" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-4">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [launch]: Default logging verbosity is set to INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [rotate_example-1]: process started with pid [3096]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[rotate_example-1] [INFO] [1655951661.173422471] [example]: rotate image 180 , time cost: 415 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[rotate_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[rotate_example-1] [INFO] [1655951661.416188013] [example]: second rotate image 180 , time cost: 40 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[rotate_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [rotate_example-1]: process has finished cleanly [pid 3096]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>According to the log, the test program has completed the rotation of a local image with a resolution of 1920x1080. The interface was called twice, and the time taken for each rotation is as follows.</p>
<table><thead><tr><th>Image Processing</th><th>First Run Time</th><th>Second Run Time</th></tr></thead><tbody><tr><td>1920x1080 Rotate 180 degrees</td><td>415ms</td><td>40ms</td></tr></tbody></table>
<p>The first run takes longer because the hardware needs to be configured. If there are no further changes to the hardware configuration, the hardware will process the images directly and the processing time will be significantly reduced.</p>
<p>The original image size is 1920x1080, and the size after rotation is also 1920x1080:</p>
<p><img decoding="async" loading="lazy" alt="Original Image" src="/rdk_doc/en/assets/images/test-9b37f3b2336ae99ecb72f12f623434b1.jpg" width="1920" height="1080" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Rotated Image" src="/rdk_doc/en/assets/images/rotate-c5ac8ca1c8778fbbd1e5ba3311e6f1c4.jpg" width="1920" height="1080" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="performance-comparison-of-hobot_cv-and-opencv">Performance comparison of hobot_cv and OpenCV<a class="hash-link" aria-label="Direct link to Performance comparison of hobot_cv and OpenCV" title="Direct link to Performance comparison of hobot_cv and OpenCV" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#performance-comparison-of-hobot_cv-and-opencv">​</a></h4>
<p>CPU usage is measured using the top command and represents the percentage of CPU usage by the test process.
The processing time is measured in milliseconds, with an average value taken from 1000 iterations.
To ensure stable performance, the CPU frequency is locked during the test:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo bash -c &#x27;echo performance &gt; /sys/devices/system/cpu/cpufreq/policy0/scaling_governor&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>src wxh</th><th>Rotation</th><th>hobot_cv Time</th><th>hobot_cv CPU Usage</th><th>OpenCV Time</th><th>OpenCV CPU Usage</th></tr></thead><tbody><tr><td>1920x1080</td><td>90 degrees</td><td>37.6568ms</td><td>61.6</td><td>55.8886ms</td><td>100.0</td></tr><tr><td>640x640</td><td>180 degrees</td><td>7.3133ms</td><td>66.8</td><td>5.1806ms</td><td>100.0</td></tr><tr><td>896x896</td><td>270 degrees</td><td>14.7723ms</td><td>62.5</td><td>13.6497ms</td><td>100.0</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pyramid">Pyramid<a class="hash-link" aria-label="Direct link to Pyramid" title="Direct link to Pyramid" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#pyramid">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-5">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-5">​</a></h3>
<p>This function implements image pyramid scaling and currently supports NV12 format.</p>
<p>Code repository:  (<a href="https://github.com/D-Robotics/hobot_cv" target="_blank" rel="noopener noreferrer">https://github.com/D-Robotics/hobot_cv</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-platforms-3">Supported Platforms<a class="hash-link" aria-label="Direct link to Supported Platforms" title="Direct link to Supported Platforms" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms-3">​</a></h3>
<table><thead><tr><th>Platform</th><th>System</th><th>Function</th></tr></thead><tbody><tr><td>RDK X3, RDK X3 Module</td><td>Ubuntu 20.04 (Foxy), Ubuntu 22.04 (Humble)</td><td>Read image and perform image pyramid scaling</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-5">Preparation<a class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-5">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-platform-2">RDK Platform<a class="hash-link" aria-label="Direct link to RDK Platform" title="Direct link to RDK Platform" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-platform-2">​</a></h4>
<ol>
<li>
<p>The RDK is pre-loaded with  Ubuntu 20.04/22.04 system image.</p>
</li>
<li>
<p>TogetheROS.Bot has been successfully installed on the RDK.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rdk-9">RDK<a class="hash-link" aria-label="Direct link to RDK" title="Direct link to RDK" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rdk-9">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Foxy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Humble</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/tros/humble/setup.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy the necessary models and configuration files for running the example from the installation path of tros.b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp -r /opt/tros/${TROS_DISTRO}/lib/hobot_cv/config/ .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch the launch file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 launch hobot_cv hobot_cv_pyramid.launch.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-analysis-5">Result Analysis<a class="hash-link" aria-label="Direct link to Result Analysis" title="Direct link to Result Analysis" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-5">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [launch]: Default logging verbosity is set to INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [pyramid_example-1]: process started with pid [3071]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[pyramid_example-1] [INFO] [1655951639.110992960] [example]: pyramid image , time cost: 299 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[pyramid_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[pyramid_example-1] [INFO] [1655951639.432398919] [example]: pyramid image , time cost: 19 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[pyramid_example-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] [pyramid_example-1]: process has finished cleanly [pid 3071]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>According to the log, the test program has completed the pyramid scaling process for a local image with a resolution of 1920x1080. The interface is called twice, with the following time costs for each run.</p>
<table><thead><tr><th>Image Processing</th><th>Time Cost for First Run</th><th>Time Cost for Second Run</th></tr></thead><tbody><tr><td>1920x1080 six-layer base layer output</td><td>299ms</td><td>19ms</td></tr></tbody></table>
<p>Because the first run requires hardware configuration, it takes more time. If the hardware configuration attributes are not changed and the hardware is used directly for processing, the time will be significantly reduced.</p>
<p>The original 1920x1080 image and the pyramid-scaled image are as follows:</p>
<p><img decoding="async" loading="lazy" src="/rdk_doc/en/assets/images/pym_ds-a2b043348535be4aafcabef5998a673e.jpg" width="2001" height="2211" class="img_ev3q"></p>
<p>Outputting six base layers, each layer&#x27;s size is half of the previous layer&#x27;s size.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="performance-comparison">Performance Comparison<a class="hash-link" aria-label="Direct link to Performance Comparison" title="Direct link to Performance Comparison" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#performance-comparison">​</a></h4>
<p>With an input image of 1920x1080, we obtain output images with resolutions of 960x540, 480x270, 240x134, 120x66, 60x32 by generating 5 layers. We compare the efficiency between OpenCV and HobotCV, with the following results:</p>
<table><thead><tr><th>HobotCV Cost</th><th>HobotCV CPU Usage</th><th>OpenCV Cost</th><th>OpenCV CPU Usage</th></tr></thead><tbody><tr><td>19ms</td><td>42.5</td><td>56</td><td>100</td></tr><tr><td>19ms</td><td>42.5</td><td>56</td><td>100</td></tr></tbody></table>
<p>CPU usage as a percentage (single-core), and time statistics in ms.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://d-robotics.github.io/rdk_doc/RDK/docs/05_Robot_development/02_quick_demo/demo_cv.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rdk_doc/en/Robot_development/quick_demo/hobot_codec"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">5.2.3 Image Codec</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rdk_doc/en/Robot_development/quick_demo/demo_communication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">5.2.5 Communication</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#gaussian-filtering">Gaussian Filtering</a><ul><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms">Supported Platforms</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation">Preparation</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#usage">Usage</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis">Result Analysis</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#mean-filtering">Mean Filtering</a><ul><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-1">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms-1">Supported Platforms</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-1">Preparation</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#usage-guide">Usage Guide</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-1">Result Analysis</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#crop">crop</a><ul><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-2">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#platform-support">Platform Support</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-2">Preparation</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#instruction">Instruction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-2">Result Analysis</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#resize">Resize</a><ul><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-3">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#platform-support-1">Platform Support</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-3">Preparation</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#usage-1">Usage</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-3">Result Analysis</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#rotate">rotate</a><ul><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-4">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms-2">Supported Platforms</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-4">Preparation</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#user-guide">User Guide</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-4">Result Analysis</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#pyramid">Pyramid</a><ul><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#introduction-5">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#supported-platforms-3">Supported Platforms</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#preparation-5">Preparation</a></li><li><a class="table-of-contents__link toc-highlight" href="/rdk_doc/en/Robot_development/quick_demo/demo_cv#result-analysis-5">Result Analysis</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.guyuehome.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GuYueHome<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact US</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/D-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://space.bilibili.com/437998606" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 D-Robotics.</div></div></div></footer></div>
</body>
</html>